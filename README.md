# BERT-ABSA-shampoo 
올리브영 리뷰 기반 샴푸 속성-감성 분석 (ABSA: Aspect-Based Sentiment Analysis)

#### 프로젝트명 : shortcut_2_ur_shampoo.txt

---

## 📌 프로젝트 개요  
본 프로젝트는 올리브영 리뷰 데이터를 기반으로 샴푸 제품의 속성별 감성을 자동으로 분석(ABSA)하고, 사용자에게 신뢰도 높은 정보를 제공하는 웹 서비스를 구현하는 것을 목표로 한다. 
단순 별점이나 임의 평가가 아닌 **리뷰 본문 기반의 속성-감성 분류**를 통해, 제품 선택에 실질적인 도움을 줄 수 있는 시스템을 구축한다. 

### 기획 목적 
- 샴푸를 구매하고자 하는 소비자들의 결정에 도움이 되는 리뷰 정보 제공
  - AI 모델을 통해 각 리뷰의 속성별 감성을 자동 라벨링
  - 각 제품별 리뷰 기반 통계 정보 및 시각 자료 제공
- Why 샴푸?
  - 대표적 생활용품
  - 속성의 다양성
  - 비교적 적은 개인 차
 
### ABSA task 소개 
- 자연어 처리 (Natural Language Processing, NLP)
  - 자연어를 컴퓨터가 이해하고 처리할 수 있도록 하는 AI의 한 분야
- 속성기반 감성분석 (Aspect-Based Sentiment Analysis, ABSA)
  - 속성 범주 탐지 (Aspect Category Detection, ACD)
    - 입력 문장 내 속성 범주 탐지
  - 속성 감성 분류 (Aspect Sentiment Classification, ASC)
    - 입력 문장 내 존재하는 속성 범주에 대해 감성 분류 

---

## 📌 데이터 수집 및 전처리

### 데이터 수집  
- 올리브영 샴푸 제품 수집  
  - 총 제품 수 : 560개  
  - 총 리뷰 수 : 215,241개  
- 수작업 라벨링  
  - `doccano` 활용  
  - 1,569개 리뷰에 대해 속성 및 감성 라벨링

### 데이터 전처리
1. 결측치 처리
   - 리뷰가 없는 제품 제거  
   - 올리브영 기준 외 속성 제공 제품 제거  
2. 중복 제거
   - 동일한 리뷰/제품 중복 제거  
   - 다른 브랜드에 중복된 리뷰가 존재할 경우 제거  
3. 특수 제품군 제거
   - 일반 샴푸와 특성이 다른 스케일러/드라이샴푸 제외  
4. 텍스트 정제
   - 한글/영문/숫자/기호 외 문자 제거  
   - 괄호 속 부연 설명 제거, 반복어구 축약  
   - 띄어쓰기 보정 (`pyKoSpacing`), 협찬 문구 삭제  

---

## 📌 데이터 분석

### 속성 선정
- 기본 속성 : `세정력`, `향`, `자극`, `거품`  
- 추가 속성 : `가격`, `머릿결`, `쿨링`, `탈모`  
- 총 8개 속성으로 확정, 기타 항목 제거

### 속성 평가 신뢰성 검증
- 가설 : 올리브영의 속성 평가는 리뷰와 무관할 수 있음  
- 검증 : 모델과 리뷰어 평가 간 불일치 샘플 직접 분류  
- 결과 : 대부분 임의 선택된 속성 평가 → 모델의 필요성 입증

---

## 📌 모델링

### 구조
- ACD : [`kykim/electra-kor-base`](https://huggingface.co/kykim/electra-kor-base)  
- ASC : [`klue/roberta-base`](https://huggingface.co/klue/roberta-base)  
- Attention Pooling + Simple Classifier 조합

### 주요 설정
- `maxlen` : 128  
- `truncating` : "pre" (custom function 적용)  
- 클래스 불균형 완화 : `label smoothing`, `class weight`  
- 학습 안정화 : `LayerNorm`, `GradScaler`  

### 평가 지표
- Macro F1 Score
- 속성별 F1 확인용 `evaluation_per_aspect()`  
- `Stratified K-Fold`로 일관된 성능 평가

### 최적화 기법
- 역번역 데이터 증강 : 영어/스페인어/중국어/일본어 활용  
- "없음" 속성 설계 : confidence 기반 threshold 조정

### 최종 성능  
- 전체 ABSA F1 Score: `0.9415`

---

## 📌 웹 서비스 구성
https://bert-absa-shampoo-web.onrender.com

### 샴푸 리스트
- 선택한 속성의 긍정 비율 기준 내림차순 정렬
- 리뷰 수 영향 고려 → `log(review_count)` 가중치 적용

### 제품 상세 페이지
- 속성별 감성 비율 바 차트
- 속성 언급 비율 도넛 차트
- 속성별 감성 점수 방사형 차트 (Top6 기준)
- 속성-감성 라벨링 리뷰 리스트 제공

### 웹 서비스 배포 
- database : supabase/postgresql
- web service : render 

---

## 📌 프로젝트 의의
- 리뷰어 임의 평가가 아닌 본문 기반의 정확한 속성 분석
- 사용자 맞춤형 샴푸 추천에 신뢰성 있는 근거 제공
- ABSA 모델을 실제 서비스에 연결한 유의미한 사례
- 마케팅 인사이트, 제품 개선 피드백 도출에도 응용 가능

---

## 📌 향후 과제
- 기능 별 세분화
  - 염색, 탈모 샴푸 등 기능을 기반으로 한 세부 카테고리를 나누어 분석할 속성 구분
- 리뷰 요약
  - 상품의 속성 별 리뷰 요약 AI 모델을 활용한 구체적인 리뷰 정보 제공
- 상세 설명 활용
  - 쇼핑 플랫폼의 상세 설명과 리뷰를 통한 소비자 반응의 비교
- 마케팅 인사이트 제공
  - 소비자 리뷰를 기반으로 한 제품의 강약점 파악 및 개선 방향 등 마케팅 인사이트 제시 
